<mat-card>
  <ng-container *ngIf="chartTemplate && chartTemplate.options">
    <plotly-plot
      *ngIf="chartTemplate.visualizationLibrary == 'plotly'"
      [data]="chartTemplate.options.data"
      [layout]="chartTemplate.options.layout"
      [useResizeHandler]="true"
      [config]="chartTemplate.options.config"
      [divId]="chart.id"
    ></plotly-plot>
    <div *ngIf="chartTemplate.visualizationLibrary == 'mapbox'" class="map" id="{{ chart.id }}"></div>
  </ng-container>
  <span *ngIf="!chartTemplate">
    Click edit to select data
  </span>
  <mat-card-actions>
    <button mat-button (click)="remove()">Delete</button>
    <button mat-button (click)="edit()">Edit</button>
    <!--<button mat-button (click)="exportImage()">Export</button>-->
    <span *ngIf="chartTemplate" style="font-weight:bold">{{ chartTemplate.name }}: {{ chart.id }}</span>
  </mat-card-actions>
</mat-card>
